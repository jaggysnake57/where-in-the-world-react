(this["webpackJsonpcountries-rest-api"]=this["webpackJsonpcountries-rest-api"]||[]).push([[0],{48:function(e,t,n){},49:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),s=n.n(a),r=n(19),o=n.n(r),i=(n(48),n(12)),l=n(13),u=n(4),d=(n(49),function(e){var t=e.countryDetails,n=t.name,a=t.capital,s=t.region,r=t.population,o=t.flag;return Object(c.jsx)("div",{className:"countryCard",children:Object(c.jsxs)(l.b,{to:"/".concat(n),children:[Object(c.jsx)("div",{className:"flag",style:{backgroundImage:"url(".concat(o,")")}}),Object(c.jsxs)("div",{className:"details",children:[Object(c.jsx)("h2",{children:n}),Object(c.jsxs)("h3",{children:["Population: ",Object(c.jsx)("span",{children:r.toLocaleString()})]}),Object(c.jsxs)("h3",{children:["Region: ",Object(c.jsx)("span",{children:s})]}),Object(c.jsxs)("h3",{children:["Capital: ",Object(c.jsx)("span",{children:a})]})]})]})})}),j=n(16),b=n(42),h=n(14),O=(n(56),function(e){var t=e.lightMode,n=e.setLightMode;return Object(c.jsx)("header",{className:"header",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h1",{children:"Where in the World?"}),Object(c.jsx)("button",{className:"modeSwitch",type:"button",onClick:function(){return n(!t)},children:t?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(h.a,{icon:j.b})," ",Object(c.jsx)("span",{children:"Dark Mode"})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(h.a,{icon:b.a})," ",Object(c.jsx)("span",{children:"Light Mode"})]})})]})})}),p=n(17),x=(n(57),n(11)),v=n(15),f=n.n(v),m=n(24),g=n(31),C=n(23),y=(n(60),n(25)),N=n.n(y),k="https://restcountries.eu/rest/v2/",w="?fields=name;capital;region;population;flag;alpha3Code;",S="".concat(w,"nativeName;subregion;borders;currencies;topLevelDomain;languages;"),E=function(e){return N.a.get("".concat(k,"name/").concat(e).concat(S))},L=function(e){return N.a.get("".concat(k,"name/").concat(e).concat(w))},M=Object(C.b)({name:"country",initialState:{allCountries:[],oneCountry:[],searchedCountries:[],alphaCodeIndex:{},error:""},reducers:{setAllCountries:function(e,t){e.allCountries=t.payload,e.allCountries.map((function(t){e.alphaCodeIndex=Object(g.a)(Object(g.a)({},e.alphaCodeIndex),{},Object(p.a)({},t.alpha3Code,t.name))}))},setOneCountry:function(e,t){e.oneCountry=t.payload},setSearchedCountries:function(e,t){e.searchedCountries=t.payload},clearSearchedCountries:function(e){e.searchedCountries=[]},setError:function(e,t){e.error=t.payload},clearError:function(e){e.error=""}}}),A=M.actions,B=A.setAllCountries,D=A.setOneCountry,R=A.setSearchedCountries,I=A.clearSearchedCountries,P=A.setError,W=A.clearError,F=function(e){return e.country},J=M.reducer,_=(n(79),function(e){var t=e.setRegion,n=e.region,s=Object(a.useState)(!1),r=Object(i.a)(s,2),o=r[0],l=r[1],u=Object(a.useState)(""),d=Object(i.a)(u,2),j=(d[0],d[1],function(e){t(e)});return window.addEventListener("click",(function(e){var t=document.querySelector(".custom-select");(null===t||void 0===t?void 0:t.contains(e.target))||l(!1)})),Object(c.jsx)("div",{onClick:function(){return l(!o)},class:"custom-select-wrapper",children:Object(c.jsxs)("div",{class:o?"custom-select open":"custom-select",children:[Object(c.jsxs)("div",{class:"custom-select__trigger",children:[Object(c.jsx)("span",{children:"all"===n?"Please select a region":n}),Object(c.jsx)("div",{class:"arrow"})]}),Object(c.jsxs)("div",{class:"custom-options",children:[Object(c.jsx)("span",{onClick:function(e){return j(e.target.dataset.value)},className:"custom-option","data-value":"all",children:"All"}),Object(c.jsx)("span",{onClick:function(e){return j(e.target.dataset.value)},className:"custom-option","data-value":"Africa",children:"Africa"}),Object(c.jsx)("span",{onClick:function(e){return j(e.target.dataset.value)},className:"custom-option","data-value":"Americas",children:"Americas"}),Object(c.jsx)("span",{onClick:function(e){return j(e.target.dataset.value)},className:"custom-option","data-value":"Asia",children:"Asia"}),Object(c.jsx)("span",{onClick:function(e){return j(e.target.dataset.value)},className:"custom-option","data-value":"Europe",children:"Europe"}),Object(c.jsx)("span",{onClick:function(e){return j(e.target.dataset.value)},className:"custom-option","data-value":"Oceania",children:"Oceania"})]})]})})}),q=function(e){var t=e.setRegion,n=e.region,s=Object(a.useState)(""),r=Object(i.a)(s,2),o=r[0],l=r[1],u=(Object(x.c)(F).searchedCountries,Object(x.b)()),d=function(e){e.preventDefault(),u(function(e){return function(){var t=Object(m.a)(f.a.mark((function t(n){var c,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L(e);case 3:c=t.sent,a=c.data,n(R(a)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),404===t.t0.response.data.status&&n(P({message:"No Countries found, matching ".concat(e,", please try again")})),console.log(t.t0.response);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(o))};return Object(c.jsx)("div",{className:"searchBar",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("form",{onSubmit:function(e){return d(e)},children:[Object(c.jsx)("label",{htmlFor:"",children:Object(c.jsx)(h.a,{icon:j.c})}),Object(c.jsx)("input",Object(p.a)({type:"text",onChange:function(){},className:"searchInput",placeholder:"Search for a country.....",value:o},"onChange",(function(e){return l(e.target.value)}))),Object(c.jsx)("button",{className:"btn searchBtn",children:"Search"}),Object(c.jsx)("button",{type:"button",className:"btn btnDanger",onClick:function(){return u(I()),void l([])},children:"Reset"})]}),Object(c.jsx)(_,{region:n,setRegion:t})]})})},G=(n(80),n(81),function(){var e,t,n,s,r,o,i,d,b,O,p,v=Object(u.f)().country,g=Object(x.b)(),C=Object(x.c)(F),y=C.oneCountry,N=C.alphaCodeIndex;Object(a.useEffect)((function(){g(function(e){return function(){var t=Object(m.a)(f.a.mark((function t(n){var c,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(e);case 3:c=t.sent,a=c.data,n(D(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(v))}),[g,v]);var k=function(e){if("undefined"!==typeof e)return e.map((function(e){return e.name})).join(", ")};return Object(c.jsx)("div",{className:"countryPage",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(l.b,{to:"/",children:Object(c.jsxs)("button",{className:"btn btnBack",children:[Object(c.jsx)(h.a,{icon:j.a})," Back"]})}),Object(c.jsxs)("div",{className:"mainContent",children:[Object(c.jsx)("img",{src:null===(e=y[0])||void 0===e?void 0:e.flag,alt:""}),Object(c.jsxs)("div",{className:"countryDetails",children:[Object(c.jsx)("h1",{children:null===(t=y[0])||void 0===t?void 0:t.name}),Object(c.jsxs)("div",{className:"countryBody",children:[Object(c.jsxs)("div",{className:"col",children:[Object(c.jsxs)("h4",{children:["Native Name:"," ",Object(c.jsx)("span",{children:null===(n=y[0])||void 0===n?void 0:n.native})]}),Object(c.jsxs)("h4",{children:["Population:"," ",Object(c.jsx)("span",{children:null===(s=y[0])||void 0===s?void 0:s.population.toLocaleString()})]}),Object(c.jsxs)("h4",{children:["Region: ",Object(c.jsx)("span",{children:null===(r=y[0])||void 0===r?void 0:r.region})]}),Object(c.jsxs)("h4",{children:["Sub Region:"," ",Object(c.jsx)("span",{children:null===(o=y[0])||void 0===o?void 0:o.subregion})]}),Object(c.jsxs)("h4",{children:["Capital:"," ",Object(c.jsx)("span",{children:null===(i=y[0])||void 0===i?void 0:i.capital})]})]}),Object(c.jsxs)("div",{className:"col",children:[Object(c.jsxs)("h4",{children:["Top Level Domain:"," ",Object(c.jsx)("span",{children:null===(d=y[0])||void 0===d?void 0:d.topLevelDomain})]}),Object(c.jsxs)("h4",{children:["Currencies:"," ",Object(c.jsx)("span",{children:k(null===(b=y[0])||void 0===b?void 0:b.currencies)})]}),Object(c.jsxs)("h4",{children:["Languages:"," ",Object(c.jsx)("span",{children:k(null===(O=y[0])||void 0===O?void 0:O.languages)})]})]})]}),Object(c.jsxs)("div",{className:"borderCountriesButtons",children:[Object(c.jsx)("h4",{children:"Border Countries: "}),Object(c.jsx)("div",{className:"buttonHolder",children:null===(p=y[0])||void 0===p?void 0:p.borders.map((function(e){return Object(c.jsx)(l.b,{to:"/".concat(N[e]),className:"btn",children:N[e]})}))})]})]})]})]})})}),H=(n(82),Object(a.forwardRef)((function(e,t){var n=e.message,a=e.closeModal;return Object(c.jsx)("div",{class:"modal",ref:t,children:Object(c.jsxs)("div",{className:"modalBox",children:[Object(c.jsx)("h4",{children:n}),Object(c.jsx)("button",{onClick:function(){return a()},className:"btn",children:"close"})]})})})));var T=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)("all"),o=Object(i.a)(r,2),j=o[0],b=o[1],h=Object(x.c)(F),p=h.allCountries,v=h.searchedCountries,g=h.error,C=Object(x.b)();Object(a.useEffect)((function(){C(function(){var e=Object(m.a)(f.a.mark((function e(t){var n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("".concat(k,"all").concat(w));case 3:n=e.sent,c=n.data,t(B(c)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[C]),Object(a.useEffect)((function(){var e=document.body.classList;n?e.add("lightMode"):e.remove("lightMode")}),[n]);var y=function(e){var t=[];return null===e||void 0===e||e.map((function(e){return"all"===j||e.region===j?t.push(Object(c.jsx)(d,{countryDetails:e},e.alpha3Code)):""})),t};return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(l.a,{children:[Object(c.jsx)(O,{lightMode:n,setLightMode:s}),g&&Object(c.jsx)(H,{message:g.message,closeModal:function(){C(W())}}),Object(c.jsxs)(u.c,{children:[Object(c.jsxs)(u.a,{exact:!0,path:"/",children:[Object(c.jsx)(q,{setRegion:b,region:j}),Object(c.jsx)("section",{className:"container countryGrid",children:v.length?y(v):y(p)})]}),Object(c.jsx)(u.a,{exact:!0,path:"/:country",component:G})]})]})})},$=Object(C.a)({reducer:{country:J}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(x.a,{store:$,children:Object(c.jsx)(T,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[83,1,2]]]);
//# sourceMappingURL=main.6a0579aa.chunk.js.map